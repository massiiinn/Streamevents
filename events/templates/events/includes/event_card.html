{% load static %}  {# Carrega la llibreria de fitxers estàtics #}

<div class="card mb-3 shadow-sm h-100">
    {% if event.thumbnail %}
        <img src="{{ event.thumbnail.url }}" class="card-img-top" alt="{{ event.title }}">  {# Mostra la miniatura de l'esdeveniment si existeix #}
    {% else %}
        <img src="{% static 'events/default_thumbnail.jpg' %}" class="card-img-top" alt="{{ event.title }}">  {# Mostra una miniatura per defecte si no hi ha imatge #}
    {% endif %}
    <div class="card-body d-flex flex-column">
        <h5 class="card-title">
            <i class="fa-solid fa-calendar-days me-1 text-primary"></i> {{ event.title }}  {# Mostra el títol de l'esdeveniment amb icona #}
        </h5>
        <p class="card-text mb-1">
            <small class="text-muted">{{ event.category|title }} | {{ event.scheduled_date|date:"d/m/Y H:i" }}</small>  {# Mostra la categoria i la data formatada #}
        </p>
        <p class="mb-2">
            {% for tag in event.get_tags_list %}
                <span class="badge bg-secondary">{{ tag }}</span>  {# Mostra els tags de l'esdeveniment com badges #}
            {% endfor %}
        </p>
        <a href="{% url 'events:event_detail' event.pk %}" class="btn btn-primary btn-sm mt-auto">Veure</a>  {# Botó per veure els detalls de l'esdeveniment #}
        {% if request.user == event.creator %}
            <a href="{% url 'events:event_update' event.pk %}" class="btn btn-warning btn-sm mt-1">Editar</a>  {# Botó per editar l'esdeveniment si ets el creador #}
            <a href="{% url 'events:event_delete' event.pk %}" class="btn btn-danger btn-sm mt-1">Eliminar</a>  {# Botó per eliminar l'esdeveniment si ets el creador #}
        {% endif %}
    </div>
</div>
